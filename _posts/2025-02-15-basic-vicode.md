---
layout: post
title: vi 编辑器
categories: [vi, basic,Linux]
description: vi 编辑器教程
keywords: git, basic,Linux
---
vi编辑器学习笔记

## Vi 快捷键

| 文件相关命令                        | 说明                     |
|-----------------------------|--------------------------|
|`:w`                    | 将编辑的数据写入硬盘档案中，:w!表强制写入（常用）               |
| `:w`        | 将编辑的数据写入硬盘档案中，:w!表强制写入（常用）                 |
| `:q`        | 离开 vi ，:q!强制离开（常用）                                 |
| `:wq`       | 储存后离开，:wq! 为强制储存后离开（常用）                 |
| `ZZ`        | 保存当前文件，然后退出（如果修改过）                         |
| `ZQ`        | 不保存，强制退出。效果等同于 :q!。                         |
| `:w [filename]` | 将编辑的数据储存成另一个档案（类似另存新档）               |
| `:r [filename]` | 在编辑的数据中，读入另一个档案的数据到游标所在行后面       |
| `:n1,n2 w [filename]` | 将 n1 到 n2 的内容储存成 filename 这个档案。       |
|`:set nu`    |显示行号，设定之后，会在每一行的前缀显示该行的行号             |
|`:set nonu`  |与 set nu 相反，为取消行号 ！                               |
|编辑相关快捷键  |说明                                                     |
|`i` |进入编辑模式，相同功能的还有a、o，大小写都可，功能差异在插入的位置上           |
|`r，R`  |进入取代模式，相当与Insert，r只取代字符一次，R一直取代直到Esc             |
|搜索替换相关快捷键  |说明                                      |
| `/word` | 向光标之下寻找一个名为 word 的字符串。例如，搜索 vbird 则输入 /vbird。（常用） |
| `?word` | 向光标之上寻找一个名为 word 的字符串。 |
| `n` | 重复前一个搜索动作。如果是向下搜索，则继续向下搜索；如果是向上搜索，则继续向上搜索。（常用） |
| `N` | 与 `n` 相反，执行反向的搜索动作。如果之前是向下搜索，则向上搜索；如果之前是向上搜索，则向下搜索。（常用） |
| `:n1,n2s/word1/word2/g` | 在第 n1 行到第 n2 行之间寻找 word1 并将其替换为 word2。（常用） |
| `:1,$s/word1/word2/g` 或 `:%s/word1/word2/g` | 从第一行到最后一行寻找 word1 并将其替换为 word2。（常用） |
| `:1,$s/word1/word2/gc` 或 `:%s/word1/word2/gc` | 从第一行到最后一行寻找 word1 并将其替换为 word2，并在替换前显示提示，让用户确认是否需要替换。（常用） |
|粘贴、删除相关快捷键  |说明                                       |
| `nx`         | n 为数字，连续向后删除 n 个字符                               |
| `dd`         | 剪切游标所在的那一整行(常用)，用 p/P 可以粘贴               |
| `ndd`        | n 为数字。剪切光标所在的向下 n 行(常用)，用 p/P 可以粘贴   |
| `d1G`       | 删除游标所在到第一行的所有数据                               |
| `dG`         | 删除游标所在到最后一行的所有数据                             |
| `d$`         | 删除游标所在处到该行的最后一个字符                           |
| `d0`         | 删除游标所在处到该行的最前面一个字符                         |
| `yy`       | 复制游标所在的那一行(常用)                                   |
| `nyy`      | n 为数字。复制光标所在的向下 n 行(常用)                     |
| `y1G`        | 复制游标所在行到第一行的所有数据                             |
| `yG`         | 复制游标所在行到最后一行的所有数据                           |
| `y0`         | 复制游标所在的那个字符到该行行首的所有数据                   |
| `y$`         | 复制游标所在的那个字符到该行行尾的所有数据                   |
| `p, P`     | p 将已复制的数据在光标下一行贴上，P 则贴在游标上一行(常用) |
| `J`          | 将光标所在行与下一行的数据结合成同一行                       |
| `c`          | 重复删除多个数据，例如向下删除 10 行，[ 10cj ]               |
| `u`        | 复原前一个动作。(常用)                                       |
| `[Ctrl]+r` | 重做上一个动作。(常用)                                       |
| `.`        | (按下小数点)重复前一个动作。(常用)                             |

## 为什么是vi编辑器

Vi 是 1976 年由 Bill Joy 开发的一款文本编辑器，最初是为 Unix 系统设计的。Vi 以其简洁、高效的操作方式而闻名，成为 Unix 和类 Unix 系统上的标准编辑器。Vim（Vi Improved）是 Vi 编辑器的改进版本，使用方法和Vi 编辑器相识相通。这里只Vi 编辑器
这个编辑器几乎不用下载，在各各电脑平台几乎都支持，由于其简洁稳定，功能强大，且支持插件等功能，熟练的Vi 编辑器操作工人可以在无鼠标的环境下正常操作。

## vi 编辑器的三个模式
**命令模式、输入模式、底线命令模式**  
也有称呼 命令模式（Command Mode）、输入模式（Insert Mode）和命令行模式（Command-Line Mode）  
记住区分命令模式和命令行模式的界面就🆗了。这三种模式可以相互转换，下图为转换的操作示意图  
<div align="center"><img width="auto" height="auto" src="{{ assets_base_url }}/images/blog/vim-vi-workmodel.png"/>
<p>vi编辑器的三种模式</p>
</div>  
在终端界面输入 vi filename 进入vi 编辑器界面，默认是命令界面
按下i 进入输入模式，可以正常编辑文本  
在编辑模式下按下Esc可以退出编辑模式进入命令模式，命令模式可以输入命令对文本进行操作    
在命令模式输入 ： 这个冒号，可以进入底线命令模式，这个模式一般是操作文件  



## 参考链接
[vim官方](https://www.vim.org/)  
[vi菜鸟教程](https://www.runoob.com/linux/linux-vim.html)  

 